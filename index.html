<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ruthless - Code of Elegance</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;900&display=swap" rel="stylesheet">
    <style>
        :root {
            --glow-color: #00ffff;
            --secondary-glow-color: #d946ef; /* Fuchsia */
        }

        html {
            scroll-behavior: smooth;
        }

        body {
            font-family: 'Inter', sans-serif;
            background-color: #0A0A0A;
            color: #E0E0E0;
        }

        /* --- Glow Effects --- */
        .neon-text {
            color: #fff;
            text-shadow:
                0 0 7px var(--glow-color),
                0 0 10px var(--glow-color),
                0 0 21px var(--glow-color),
                0 0 42px var(--glow-color);
        }

        .neon-text-secondary {
            color: #fff;
            text-shadow:
                0 0 5px var(--secondary-glow-color),
                0 0 10px var(--secondary-glow-color),
                0 0 20px var(--secondary-glow-color);
        }

        .neon-text-h1 {
            font-weight: 900;
            color: #fff;
            text-shadow:
                0 0 5px #fff,
                0 0 10px #fff,
                0 0 20px var(--glow-color),
                0 0 30px var(--glow-color),
                0 0 40px var(--glow-color),
                0 0 55px var(--glow-color),
                0 0 75px var(--glow-color);
        }

        .product-card {
            background-color: #121212;
            border: 1px solid #333;
            transition: all 0.3s ease;
            overflow: hidden;
            border-radius: 0.75rem;
        }

        .product-card:hover {
            transform: translateY(-5px);
            border-color: var(--glow-color);
            box-shadow: 0 0 15px rgba(0, 255, 255, 0.3);
        }

        .neon-button {
            background-color: transparent;
            border: 2px solid var(--glow-color);
            color: var(--glow-color);
            padding: 10px 20px;
            font-weight: bold;
            text-transform: uppercase;
            letter-spacing: 1px;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .neon-button:hover {
            color: #111;
            background-color: var(--glow-color);
            box-shadow: 0 0 20px var(--glow-color);
        }
        
        .nav-link {
            transition: color 0.3s, text-shadow 0.3s;
        }
        
        .nav-link:hover, .nav-link.active {
             color: var(--glow-color);
             text-shadow: 0 0 10px var(--glow-color);
        }

        /* --- Modal Styles --- */
        .modal {
            transition: opacity 0.3s ease, visibility 0.3s ease;
        }

        .cart-item-remove-btn:hover {
            color: #ff4d4d;
        }
        
        .form-input {
            background-color: #1f1f1f;
            border: 1px solid #444;
            color: #E0E0E0;
        }
        .form-input:focus {
            outline: none;
            border-color: var(--glow-color);
            box-shadow: 0 0 10px rgba(0, 255, 255, 0.3);
        }
        .payment-option {
            border: 2px solid #444;
            transition: border-color 0.3s;
        }
        .payment-option.selected {
            border-color: var(--glow-color);
        }
    </style>
</head>
<body class="antialiased">

    <header class="fixed top-0 left-0 right-0 z-50 bg-black bg-opacity-80 backdrop-blur-sm">
        <nav class="container mx-auto px-6 py-4 flex justify-between items-center">
            <a href="#home" onclick="filterProducts('all')" class="text-2xl font-black uppercase neon-text tracking-widest">Ruthless</a>
            <div class="hidden md:flex items-center space-x-8">
                <a href="#products" class="nav-link text-white uppercase font-semibold tracking-wider" onclick="filterProducts('men')">Men</a>
                <a href="#products" class="nav-link text-white uppercase font-semibold tracking-wider" onclick="filterProducts('women')">Women</a>
                <a href="#products" class="nav-link text-white uppercase font-semibold tracking-wider" onclick="filterProducts('unisex')">Unisex</a>
            </div>
            <div class="flex items-center">
                <button class="relative" onclick="toggleCart()">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="text-white hover:stroke-cyan-400 transition-colors">
                        <path d="M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z"></path>
                        <line x1="3" x2="21" y1="6" y2="6"></line>
                        <path d="M16 10a4 4 0 0 1-8 0"></path>
                    </svg>
                    <span id="cart-count" class="absolute -top-2 -right-2 bg-cyan-400 text-black text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center">0</span>
                </button>
            </div>
        </nav>
    </header>

    <main>
        <section id="home" class="h-screen flex items-center justify-center text-center bg-black">
            <div class="container mx-auto px-6">
                <h1 class="text-5xl md:text-8xl font-black uppercase neon-text-h1 mb-4">Ruthless Perfume</h1>
                <p class="text-xl md:text-2xl uppercase tracking-widest neon-text mb-8">Unleash the Code of Elegance</p>
                <p class="max-w-3xl mx-auto text-gray-300 mb-12">
                    Experience the future of luxury fragrance. Where cutting-edge technology meets timeless sophistication. Each scent is crafted to perfection, designed for those who dare to be different.
                </p>
                <div class="flex justify-center space-x-4">
                    <a href="#products" onclick="filterProducts('all')" class="neon-button rounded-md">Explore Collection</a>
                    <button onclick="openStoryModal()" class="bg-fuchsia-600 hover:bg-fuchsia-500 text-white font-bold uppercase tracking-wider py-3 px-6 rounded-md transition-all duration-300 shadow-[0_0_15px_rgba(217,70,239,0.5)] hover:shadow-[0_0_25px_rgba(217,70,239,0.8)]">Discover Story</button>
                </div>
            </div>
        </section>

        <section id="products" class="py-20">
            <div class="container mx-auto px-6">
                <div class="text-center mb-12">
                    <h2 id="collection-title" class="text-4xl md:text-6xl font-black uppercase neon-text-h1 mb-2">All Fragrances</h2>
                    <p id="collection-subtitle" class="text-lg text-gray-400">8 exquisite fragrances</p>
                </div>
                <div id="product-grid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8">
                </div>
            </div>
        </section>

        <section id="offer" class="py-20 bg-black text-center">
            <div class="container mx-auto px-6">
                <h2 class="text-4xl md:text-5xl font-black uppercase neon-text-secondary mb-4">Limited Time Offer</h2>
                <p class="text-lg text-gray-400 mb-8">Exclusive collection ending soon</p>
                <div class="flex justify-center space-x-4 md:space-x-8 text-white">
                    <div class="text-center bg-[#121212] p-4 rounded-lg border border-fuchsia-500/50 w-24">
                        <span id="days" class="text-4xl font-bold">00</span>
                        <p class="text-sm uppercase text-gray-400">Days</p>
                    </div>
                    <div class="text-center bg-[#121212] p-4 rounded-lg border border-fuchsia-500/50 w-24">
                        <span id="hours" class="text-4xl font-bold">00</span>
                        <p class="text-sm uppercase text-gray-400">Hours</p>
                    </div>
                    <div class="text-center bg-[#121212] p-4 rounded-lg border border-fuchsia-500/50 w-24">
                        <span id="minutes" class="text-4xl font-bold">00</span>
                        <p class="text-sm uppercase text-gray-400">Minutes</p>
                    </div>
                    <div class="text-center bg-[#121212] p-4 rounded-lg border border-fuchsia-500/50 w-24">
                        <span id="seconds" class="text-4xl font-bold">00</span>
                        <p class="text-sm uppercase text-gray-400">Seconds</p>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <footer class="bg-black border-t border-gray-800 pt-12 pb-8">
        <div class="container mx-auto px-6">
            <div class="grid grid-cols-1 md:grid-cols-4 gap-8 text-center md:text-left">
                <div>
                    <h3 class="text-2xl font-black uppercase neon-text tracking-widest mb-2">Ruthless</h3>
                    <p class="text-gray-400">Unleash the Code of Elegance</p>
                </div>
                <div>
                    <h4 class="text-lg font-bold uppercase tracking-wider text-white mb-4">Shop</h4>
                    <ul class="space-y-2">
                        <li><a href="#products" class="text-gray-400 hover:text-cyan-400 transition-colors" onclick="filterProducts('men')">Men</a></li>
                        <li><a href="#products" class="text-gray-400 hover:text-cyan-400 transition-colors" onclick="filterProducts('women')">Women</a></li>
                        <li><a href="#products" class="text-gray-400 hover:text-cyan-400 transition-colors" onclick="filterProducts('unisex')">Unisex</a></li>
                    </ul>
                </div>
                <div>
                    <h4 class="text-lg font-bold uppercase tracking-wider text-white mb-4">Support</h4>
                    <ul class="space-y-2">
                        <li><button onclick="openContactModal()" class="text-gray-400 hover:text-cyan-400 transition-colors">Contact</button></li>
                        <li><a href="#" class="text-gray-400 hover:text-cyan-400 transition-colors">Shipping</a></li>
                        <li><a href="#" class="text-gray-400 hover:text-cyan-400 transition-colors">Returns</a></li>
                    </ul>
                </div>
                <div>
                    <h4 class="text-lg font-bold uppercase tracking-wider text-white mb-4">Connect</h4>
                    <div class="flex justify-center md:justify-start space-x-4">
                        <a href="#" class="text-gray-400 hover:text-cyan-400 transition-colors" aria-label="Instagram">
                            <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24"><path fill-rule="evenodd" d="M12.315 2c2.43 0 2.784.013 3.808.06 1.064.049 1.791.218 2.427.465a4.902 4.902 0 011.772 1.153 4.902 4.902 0 011.153 1.772c.247.636.316 1.363.364 2.427.048 1.024.06 1.378.06 3.808s-.012 2.784-.06 3.808c-.049 1.064-.218 1.791-.465 2.427a4.902 4.902 0 01-1.153 1.772 4.902 4.902 0 01-1.772 1.153c-.636.247-1.363.316-2.427.364-1.024.048-1.378.06-3.808.06s-2.784-.012-3.808-.06c-1.064-.049-1.791-.218-2.427-.465a4.902 4.902 0 01-1.772-1.153 4.902 4.902 0 01-1.153-1.772c-.247-.636-.316-1.363-.364-2.427C2.013 14.784 2 14.43 2 12s.013-2.784.06-3.808c.049-1.064.218-1.791.465-2.427a4.902 4.902 0 011.153-1.772A4.902 4.902 0 015.45 2.525c.636-.247 1.363-.316 2.427-.364C8.901 2.013 9.256 2 11.685 2h.63zm-.081 1.802h-.468c-2.456 0-2.784.011-3.807.06-1.064.049-1.544.211-1.853.344a3.102 3.102 0 00-1.052.712 3.102 3.102 0 00-.712 1.052c-.133.309-.295.79-.344 1.853-.049 1.023-.06 1.351-.06 3.807 0 2.456.011 2.784.06 3.808.049 1.064.211 1.544.344 1.853a3.102 3.102 0 00.712 1.052 3.102 3.102 0 001.052.712c.309.133.79.295 1.853.344 1.023.049 1.351.06 3.807.06h.468c2.456 0 2.784-.011 3.808-.06 1.064-.049 1.544-.211 1.853-.344a3.102 3.102 0 001.052-.712 3.102 3.102 0 00.712-1.052c.133-.309.295-.79.344-1.853.049-1.023.06-1.351.06-3.808 0-2.456-.011-2.784-.06-3.807-.049-1.064-.211-1.544-.344-1.853a3.102 3.102 0 00-.712-1.052 3.102 3.102 0 00-1.052-.712c-.309-.133-.79-.295-1.853-.344-1.023-.049-1.351-.06-3.808-.06zm-1.8 2.924a3.618 3.618 0 110 7.236 3.618 3.618 0 010-7.236zM12 15.75a3.75 3.75 0 110-7.5 3.75 3.75 0 010 7.5zm6.38-8.242a1.125 1.125 0 11-2.25 0 1.125 1.125 0 012.25 0z" clip-rule="evenodd" /></svg>
                        </a>
                        <a href="#" class="text-gray-400 hover:text-cyan-400 transition-colors" aria-label="Facebook">
                            <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24"><path fill-rule="evenodd" d="M22 12c0-5.523-4.477-10-10-10S2 6.477 2 12c0 4.991 3.657 9.128 8.438 9.878v-6.987h-2.54V12h2.54V9.797c0-2.506 1.492-3.89 3.777-3.89 1.094 0 2.238.195 2.238.195v2.46h-1.26c-1.243 0-1.63.771-1.63 1.562V12h2.773l-.443 2.89h-2.33v6.988C18.343 21.128 22 16.991 22 12z" clip-rule="evenodd" /></svg>
                        </a>
                        <a href="#" class="text-gray-400 hover:text-cyan-400 transition-colors" aria-label="Twitter">
                           <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24"><path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"/></svg>
                        </a>
                        <a href="#" class="text-gray-400 hover:text-cyan-400 transition-colors" aria-label="TikTok">
                            <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24"><path d="M12.525.02c1.31-.02 2.61-.01 3.91-.02.08 1.53.63 3.09 1.75 4.17 1.12 1.11 2.7 1.62 4.24 1.79v4.03c-1.44-.05-2.89-.35-4.2-.97-.57-.26-1.1-.59-1.62-.93-.01 2.92.01 5.84-.02 8.75-.08 1.4-.54 2.79-1.35 3.94-1.31 1.92-3.58 3.17-5.91 3.21-2.43.03-4.83-.95-6.43-2.98-1.59-2.04-1.6-4.9 0-7.02 1.59-2.12 4.34-2.91 6.51-2.05 .34.13.63.31.93.49.02-1.65-.01-3.3-.01-4.95h4.03z"/></svg>
                        </a>
                    </div>
                </div>
            </div>
            <div class="mt-8 pt-8 border-t border-gray-800 text-center text-gray-500">
                <p>&copy; 2025 Ruthless Perfume. All rights reserved.</p>
            </div>
        </div>
    </footer>
    
    <div id="story-modal" class="modal hidden fixed inset-0 z-[60] flex items-center justify-center bg-black bg-opacity-90 backdrop-blur-md" onclick="closeStoryModal()">
        <div class="w-full max-w-4xl mx-auto p-8 md:p-12 text-center relative" onclick="event.stopPropagation()">
            <button onclick="closeStoryModal()" class="absolute top-4 right-4 text-gray-400 hover:text-white text-4xl">&times;</button>
            <h2 class="text-4xl md:text-6xl font-black uppercase neon-text-h1 mb-6">Decoding Elegance</h2>
            <div class="text-gray-300 text-lg leading-relaxed max-w-3xl mx-auto space-y-6">
                <p>In a world saturated with noise, Ruthless was born from a singular vision: to create not just a fragrance, but an identity. We believe elegance isn't an inherited trait, but a code waiting to be written. Our journey began not in a field of flowers, but in a cleanroom, at the intersection of organic chemistry and digital precision.</p>
                <h3 class="text-2xl font-bold uppercase tracking-widest neon-text pt-4">The Olfactory Algorithm</h3>
                <p>Each Ruthless scent is an olfactory algorithm, meticulously designed to interact with the wearer's unique bio-signature. We utilize cutting-edge nano-distillation and bio-synthetic botanicals to craft "sentient molecules"—compounds that evolve on the skin, revealing a narrative of scent that is deeply personal and impossible to replicate. This is where nature's chaos meets the beautiful logic of code.</p>
                <p>We are for the architects of their own reality, the innovators who see the future not as a destination, but as a canvas. Ruthless is more than a perfume; it's a statement. It is the final, invisible piece of your armor and your art. Dare to be different. Dare to be Ruthless.</p>
            </div>
        </div>
    </div>
    
    <div id="contact-modal" class="modal hidden fixed inset-0 z-[60] flex items-center justify-center bg-black bg-opacity-70 backdrop-blur-md" onclick="closeContactModal()">
        <div class="bg-[#121212] border border-cyan-400/50 shadow-[0_0_25px_rgba(0,255,255,0.3)] rounded-lg w-full max-w-lg mx-4 flex flex-col" onclick="event.stopPropagation()">
            <div class="flex justify-between items-center p-4 border-b border-gray-700">
                <h2 class="text-2xl font-bold neon-text">Contact Us</h2>
                <button onclick="closeContactModal()" class="text-gray-400 hover:text-white">&times;</button>
            </div>
            <form id="contact-form" class="p-6 space-y-4">
                <input type="text" name="name" placeholder="Full Name" class="w-full p-2 rounded-md form-input" required>
                <input type="email" name="email" placeholder="Email Address" class="w-full p-2 rounded-md form-input" required>
                <textarea name="message" placeholder="Your Message" rows="4" class="w-full p-2 rounded-md form-input" required></textarea>
                <button type="submit" class="w-full bg-cyan-400 text-black font-bold uppercase py-3 rounded-md hover:bg-cyan-300">Send Message</button>
            </form>
        </div>
    </div>

    <div id="cart-modal" class="modal hidden fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-70 backdrop-blur-md" onclick="toggleCart()">
        <div class="bg-[#121212] border border-cyan-400/50 shadow-[0_0_25px_rgba(0,255,255,0.3)] rounded-lg w-full max-w-lg mx-4 flex flex-col" onclick="event.stopPropagation()">
            <div class="flex justify-between items-center p-4 border-b border-gray-700">
                <h2 class="text-2xl font-bold neon-text">Your Bag</h2>
                <button onclick="toggleCart()" class="text-gray-400 hover:text-white">&times;</button>
            </div>
            <div id="cart-items-container" class="p-6 space-y-4 overflow-y-auto max-h-[60vh]"></div>
            <div class="p-6 border-t border-gray-700">
                <div class="flex justify-between items-center mb-4">
                    <span class="text-lg text-gray-300">Subtotal</span>
                    <span id="cart-total" class="text-2xl font-bold text-cyan-400">$0.00</span>
                </div>
                <button onclick="startCheckout()" class="w-full bg-cyan-400 text-black font-bold uppercase py-3 rounded-md hover:bg-cyan-300 shadow-[0_0_15px_rgba(0,255,255,0.5)] transition-all">Checkout</button>
            </div>
        </div>
    </div>

    <div id="checkout-modal" class="modal hidden fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-70 backdrop-blur-md">
        <div class="bg-[#121212] border border-cyan-400/50 shadow-[0_0_25px_rgba(0,255,255,0.3)] rounded-lg w-full max-w-lg mx-4 flex flex-col" onclick="event.stopPropagation()">
            <div id="shipping-step">
                <div class="flex justify-between items-center p-4 border-b border-gray-700">
                    <h2 class="text-2xl font-bold neon-text">Shipping Details</h2>
                    <button onclick="closeCheckoutModal()" class="text-gray-400 hover:text-white">&times;</button>
                </div>
                <div class="p-6 space-y-4">
                    <input type="text" id="name" placeholder="Full Name" class="w-full p-2 rounded-md form-input">
                    <input type="tel" id="phone" placeholder="Phone Number" class="w-full p-2 rounded-md form-input" maxlength="12">
                    <input type="email" id="email" placeholder="Email Address" class="w-full p-2 rounded-md form-input">
                    <textarea id="address" placeholder="Full Address" rows="3" class="w-full p-2 rounded-md form-input"></textarea>
                    <button onclick="goToPaymentStep()" class="w-full bg-cyan-400 text-black font-bold uppercase py-3 rounded-md hover:bg-cyan-300">Continue to Payment</button>
                </div>
            </div>
            <div id="payment-step" class="hidden">
                <div class="flex justify-between items-center p-4 border-b border-gray-700">
                    <h2 class="text-2xl font-bold neon-text">Payment Method</h2>
                    <button onclick="closeCheckoutModal()" class="text-gray-400 hover:text-white">&times;</button>
                </div>
                <div class="p-6 space-y-4">
                    <div class="grid grid-cols-2 gap-4">
                        <button onclick="selectPaymentMethod('upi')" class="payment-option p-4 rounded-md text-center">UPI</button>
                        <button onclick="selectPaymentMethod('cod')" class="payment-option p-4 rounded-md text-center">Cash on Delivery</button>
                        <button onclick="selectPaymentMethod('card')" class="payment-option p-4 rounded-md text-center">Credit/Debit Card</button>
                        <button onclick="selectPaymentMethod('netbanking')" class="payment-option p-4 rounded-md text-center">Net Banking</button>
                    </div>
                    <div id="payment-details" class="mt-4">
                        <div id="upi-details" class="hidden space-y-2"><input type="text" placeholder="Enter UPI ID" class="w-full p-2 rounded-md form-input"></div>
                        <div id="cod-details" class="hidden"><p class="text-center text-gray-400">You will pay upon delivery.</p></div>
                        <div id="card-details" class="hidden space-y-2">
                            <input type="text" id="card-number" placeholder="Card Number" class="w-full p-2 rounded-md form-input">
                            <div class="flex space-x-2">
                                <input type="text" placeholder="MM/YY" class="w-1/2 p-2 rounded-md form-input">
                                <input type="text" id="cvv" placeholder="CVV" class="w-1/2 p-2 rounded-md form-input" maxlength="3">
                            </div>
                        </div>
                        <div id="netbanking-details" class="hidden space-y-2">
                            <select class="w-full p-2 rounded-md form-input"><option>Select Bank</option><option>Bank of Elegance</option><option>State Bank of Style</option><option>Future Federal</option></select>
                        </div>
                    </div>
                    <button onclick="placeOrder()" class="w-full bg-cyan-400 text-black font-bold uppercase py-3 rounded-md hover:bg-cyan-300 mt-4">Place Order</button>
                </div>
            </div>
            <div id="confirmation-step" class="hidden">
                <div class="p-12 text-center">
                    <h2 class="text-3xl font-bold text-cyan-400 mb-4">Order Placed Successfully! ✅</h2>
                    <p class="text-gray-300 mb-6">Thank you for your purchase. A confirmation has been sent to your email.</p>
                    <button onclick="closeCheckoutModal()" class="w-full bg-cyan-400 text-black font-bold uppercase py-3 rounded-md hover:bg-cyan-300">Continue Shopping</button>
                </div>
            </div>
        </div>
    </div>


    <script>
        const products = [
            { id: 1, name: 'Shadow', category: 'men', price: 149, description: 'Dark, mysterious, and utterly captivating.', image: 'shadow-perfume.jpg' },
            { id: 2, name: 'Rebel', category: 'men', price: 169, description: 'Break the rules, own the night.', image: 'rebel-perfume.jpg' },
            { id: 3, name: 'Bliss', category: 'women', price: 129, description: 'Pure joy captured in a bottle.', image: 'bliss-perfume.jpg' },
            { id: 4, name: 'Ruth', category: 'women', price: 139, description: 'Elegance personified.', image: 'ruth-perfume.jpg' },
            { id: 5, name: 'Eternal', category: 'women', price: 155, description: 'Timeless beauty that never fades.', image: 'eternal-perfume.jpg' },
            { id: 6, name: 'Flame', category: 'unisex', price: 159, description: 'Ignite your passion and intensity.', image: 'flame-perfume.jpg' },
            { id: 7, name: 'Desire', category: 'unisex', price: 145, description: 'Seductive and irresistible.', image: 'desire-perfume.jpg' },
            { id: 8, name: 'Midnight', category: 'unisex', price: 165, description: 'Dark, deep, and dangerously alluring.', image: 'midnight-perfume.jpg' }
        ];

        const productGrid = document.getElementById('product-grid');
        const collectionTitle = document.getElementById('collection-title');
        const collectionSubtitle = document.getElementById('collection-subtitle');
        // Modals
        const storyModal = document.getElementById('story-modal');
        const contactModal = document.getElementById('contact-modal');
        const cartModal = document.getElementById('cart-modal');
        const checkoutModal = document.getElementById('checkout-modal');
        // Cart elements
        const cartCountElement = document.getElementById('cart-count');
        const cartItemsContainer = document.getElementById('cart-items-container');
        const cartTotalElement = document.getElementById('cart-total');
        // Checkout elements
        const shippingStep = document.getElementById('shipping-step');
        const paymentStep = document.getElementById('payment-step');
        const confirmationStep = document.getElementById('confirmation-step');
        
        let cart = [];

        function renderProducts(filteredProducts) {
            productGrid.innerHTML = '';
            filteredProducts.forEach(product => {
                const card = document.createElement('div');
                card.className = 'product-card flex flex-col';
                card.innerHTML = `
                    <div class="relative h-64 md:h-80"><img src="${product.image}" alt="${product.name}" class="w-full h-full object-cover"></div>
                    <div class="p-6 flex-grow flex flex-col">
                        <div class="flex justify-between items-baseline mb-2">
                            <h3 class="text-xl font-bold text-white">${product.name}</h3>
                            <p class="text-xl font-semibold text-cyan-400">$${product.price}</p>
                        </div>
                        <p class="text-gray-400 mb-4 flex-grow">${product.description}</p>
                        <button class="w-full mt-auto neon-button rounded-md" onclick="addToCart(${product.id})">Add to Bag</button>
                    </div>`;
                productGrid.appendChild(card);
            });
        }

        function filterProducts(category) {
            let filtered = [];
            let title = '';

            document.querySelectorAll('.nav-link').forEach(link => link.classList.remove('active'));
            if (category !== 'all') {
                 document.querySelectorAll(`.nav-link[onclick="filterProducts('${category}')"]`).forEach(l => l.classList.add('active'));
            } else {
                 document.querySelectorAll('.nav-link').forEach(l => l.classList.remove('active'));
            }

            switch (category) {
                case 'men':
                    filtered = products.filter(p => p.category === 'men');
                    title = "Men's Collection";
                    break;
                case 'women':
                    filtered = products.filter(p => p.category === 'women');
                    title = "Women's Collection";
                    break;
                case 'unisex':
                    filtered = products.filter(p => p.category === 'unisex');
                    title = "Unisex Collection";
                    break;
                default:
                    filtered = products;
                    title = "All Fragrances";
                    break;
            }
            collectionTitle.textContent = title;
            collectionSubtitle.textContent = `${filtered.length} exquisite fragrances`;
            renderProducts(filtered);
        }
        
        // --- Modal Functions ---
        function openStoryModal() { storyModal.classList.remove('hidden'); storyModal.classList.add('flex'); }
        function closeStoryModal() { storyModal.classList.add('hidden'); storyModal.classList.remove('flex'); }
        function openContactModal() { contactModal.classList.remove('hidden'); contactModal.classList.add('flex'); }
        function closeContactModal() { contactModal.classList.add('hidden'); contactModal.classList.remove('flex'); }

        // --- Cart Functions ---
        function addToCart(productId) {
            const existingItem = cart.find(item => item.id === productId);
            if (existingItem) {
                existingItem.quantity++;
            } else {
                const product = products.find(p => p.id === productId);
                cart.push({ ...product, quantity: 1 });
            }
            updateCart();
        }

        function updateQuantity(productId, change) {
            const item = cart.find(item => item.id === productId);
            if (item) {
                item.quantity += change;
                if (item.quantity <= 0) { removeFromCart(productId); } 
                else { updateCart(); }
            }
        }
        
        function removeFromCart(productId) {
            cart = cart.filter(item => item.id !== productId);
            updateCart();
        }

        function updateCart() {
            renderCartItems();
            updateCartCount();
        }

        function updateCartCount() {
            const totalItems = cart.reduce((sum, item) => sum + item.quantity, 0);
            cartCountElement.textContent = totalItems;
        }

        function renderCartItems() {
            cartItemsContainer.innerHTML = '';
            if (cart.length === 0) {
                cartItemsContainer.innerHTML = `<p class="text-gray-400 text-center">Your bag is empty.</p>`;
                cartTotalElement.textContent = '$0.00';
                return;
            }
            let total = 0;
            cart.forEach(item => {
                const itemElement = document.createElement('div');
                itemElement.className = 'flex items-center space-x-4';
                itemElement.innerHTML = `
                    <img src="${item.image}" alt="${item.name}" class="w-20 h-20 object-cover rounded-md">
                    <div class="flex-grow">
                        <p class="font-bold text-white">${item.name}</p>
                        <p class="text-sm text-gray-400">$${item.price.toFixed(2)}</p>
                        <div class="flex items-center mt-2">
                            <button onclick="updateQuantity(${item.id}, -1)" class="px-2 py-0.5 border border-gray-600 rounded-l-md hover:bg-gray-700">-</button>
                            <span class="px-3 border-t border-b border-gray-600">${item.quantity}</span>
                            <button onclick="updateQuantity(${item.id}, 1)" class="px-2 py-0.5 border border-gray-600 rounded-r-md hover:bg-gray-700">+</button>
                        </div>
                    </div>
                    <div class="text-right">
                        <p class="font-semibold text-white">$${(item.price * item.quantity).toFixed(2)}</p>
                        <button onclick="removeFromCart(${item.id})" class="text-xs text-gray-500 cart-item-remove-btn mt-1">Remove</button>
                    </div>`;
                cartItemsContainer.appendChild(itemElement);
                total += item.price * item.quantity;
            });
            cartTotalElement.textContent = `$${total.toFixed(2)}`;
        }

        function toggleCart() {
            if (cartModal.classList.contains('hidden')) {
                updateCart();
                cartModal.classList.remove('hidden');
                cartModal.classList.add('flex');
            } else {
                cartModal.classList.add('hidden');
                cartModal.classList.remove('flex');
            }
        }
        
        // --- Checkout Functions ---
        function startCheckout() {
            if (cart.length === 0) { alert("Your bag is empty!"); return; }
            toggleCart();
            checkoutModal.classList.remove('hidden');
            checkoutModal.classList.add('flex');
        }

        function closeCheckoutModal() {
            checkoutModal.classList.add('hidden');
            checkoutModal.classList.remove('flex');
            shippingStep.classList.remove('hidden');
            paymentStep.classList.add('hidden');
            confirmationStep.classList.add('hidden');
        }

        function goToPaymentStep() {
            if (!document.getElementById('name').value || !document.getElementById('phone').value || !document.getElementById('email').value || !document.getElementById('address').value) {
                alert("Please fill in all shipping details.");
                return;
            }
            shippingStep.classList.add('hidden');
            paymentStep.classList.remove('hidden');
        }
        
        function selectPaymentMethod(method) {
            document.querySelectorAll('.payment-option').forEach(btn => btn.classList.remove('selected'));
            document.querySelector(`.payment-option[onclick="selectPaymentMethod('${method}')"]`).classList.add('selected');
            ['upi', 'cod', 'card', 'netbanking'].forEach(id => document.getElementById(`${id}-details`).classList.add('hidden'));
            document.getElementById(`${method}-details`).classList.remove('hidden');
        }

        function placeOrder() {
            paymentStep.classList.add('hidden');
            confirmationStep.classList.remove('hidden');
            cart = [];
            updateCart();
        }

        // --- Countdown Timer ---
        function startCountdown() {
            const countDownDate = new Date().getTime() + (2 * 24 * 60 * 60 * 1000) + (15 * 60 * 60 * 1000) + (30 * 60 * 1000); // 2 days, 15 hours, 30 mins from now

            const x = setInterval(function() {
                const now = new Date().getTime();
                const distance = countDownDate - now;

                const days = Math.floor(distance / (1000 * 60 * 60 * 24));
                const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
                const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
                const seconds = Math.floor((distance % (1000 * 60)) / 1000);

                document.getElementById("days").innerText = days < 10 ? '0' + days : days;
                document.getElementById("hours").innerText = hours < 10 ? '0' + hours : hours;
                document.getElementById("minutes").innerText = minutes < 10 ? '0' + minutes : minutes;
                document.getElementById("seconds").innerText = seconds < 10 ? '0' + seconds : seconds;

                if (distance < 0) {
                    clearInterval(x);
                    document.getElementById("offer").innerHTML = `<h2 class="text-4xl md:text-5xl font-black uppercase neon-text-secondary">Offer Expired</h2>`;
                }
            }, 1000);
        }

        // --- Initial Load and Listeners ---
        document.addEventListener('DOMContentLoaded', () => {
            filterProducts('all'); // Initially render all products
            startCountdown();
            
            document.getElementById('contact-form').addEventListener('submit', function(e) {
                e.preventDefault();
                alert('Thank you for your message. We will get back to you shortly.');
                this.reset();
                closeContactModal();
            });

            document.querySelectorAll('a[href="#products"]').forEach(anchor => {
                anchor.addEventListener('click', function(e) {
                    e.preventDefault();
                    document.querySelector(this.getAttribute('href')).scrollIntoView({ behavior: 'smooth' });
                });
            });

            // --- Input Formatting ---
            const phoneInput = document.getElementById('phone');
            phoneInput.addEventListener('input', (e) => {
                e.target.value = e.target.value.replace(/[^0-9]/g, '');
            });

            const cardNumberInput = document.getElementById('card-number');
            cardNumberInput.addEventListener('input', (e) => {
                let value = e.target.value.replace(/\D/g, ''); // Remove all non-digits
                value = value.substring(0, 16); // Limit to 16 digits
                let formattedValue = value.match(/.{1,4}/g); // Group into 4s
                e.target.value = formattedValue ? formattedValue.join(' ') : '';
            });

            const cvvInput = document.getElementById('cvv');
            cvvInput.addEventListener('input', (e) => {
                e.target.value = e.target.value.replace(/[^0-9]/g, '');
            });
        });
    </script>
</body>
</html>